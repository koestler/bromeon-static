<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>thor::Animator&lt; Animated, Id &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<!--<script type="text/javascript" src="$relpath/search.js"></script>-->
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body> <!-- onload='searchBox.OnSelectItem(0);'> -->
<div id="header"><img src="../../../../bromeon.png" alt="Bromeon"/>
</div>
<div class="sidebar">
  <p><a href="../../../../index.html">Home</a></p>
  <p><a href="../../../../libraries/index.html">C++ Libraries</a></p>
  <div class="sb-sub">
    <p><a href="../../../thor/index.html">Thor</a></p>
    <div class="sb-sub2">
      <div class="sb-cur">
        <p><a href="../../documentation/index.html">Documentation</a></p>
      </div>
      <p><a href="../../download/index.html">Download</a></p>
      <p><a href="../../tutorials/index.html">Tutorials</a></p>
      <p><a href="../../progress.html">Progress</a></p>
    </div>
    <p><a href="../../../aurora/index.html">Aurora</a></p>
  </div>
  <p><a href="../../../../games/index.html">Games</a></p>
  <p><a href="../../../../articles/index.html">Articles</a></p>
  <p><a href="../../../../book/index.html">Book</a></p>
  <p><a href="../../../../contact.html">Contact</a></p>
</div>
<!--
<div id="header"><img src="Bromeon.png" alt="Bromeon" />
</div>
<div id="sidebar">
  <p><a href="index.html">Home</a></p>
  <p><a href="thor.html">Thor C++ Library</a></p>
  <p><a href="doc/index.html">Documentation</a></p>
<p>Tutorials</p>
<p>Downloads</p>
</div>
-->
<div id="top"><!-- do not remove this div! -->
<!-- Generated by Doxygen 1.8.10 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>thor</b></li><li class="navelem"><a class="el" href="classthor_1_1_animator.html">Animator</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="classthor_1_1_animator-members.html">List of all members</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">thor::Animator&lt; Animated, Id &gt; Class Template Reference<div class="ingroups"><a class="el" href="group___animations.html">Animations</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Class to animate objects.  
 <a href="classthor_1_1_animator.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a7ef5313e48043b3ab4353d46f683fd73"><td class="memItemLeft" align="right" valign="top">typedef std::function&lt; void(Animated &amp;, float)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classthor_1_1_animator.html#a7ef5313e48043b3ab4353d46f683fd73">AnimationFunction</a></td></tr>
<tr class="memdesc:a7ef5313e48043b3ab4353d46f683fd73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Functor to animate the objects.  <a href="#a7ef5313e48043b3ab4353d46f683fd73">More...</a><br /></td></tr>
<tr class="separator:a7ef5313e48043b3ab4353d46f683fd73"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a0626d456247ee43e000635031839cb45"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classthor_1_1_animator.html#a0626d456247ee43e000635031839cb45">Animator</a> (const <a class="el" href="classthor_1_1_animation_map.html">AnimationMap</a>&lt; Animated, Id &gt; &amp;animations)</td></tr>
<tr class="memdesc:a0626d456247ee43e000635031839cb45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct from animation map.  <a href="#a0626d456247ee43e000635031839cb45">More...</a><br /></td></tr>
<tr class="separator:a0626d456247ee43e000635031839cb45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3ab460718ccfaa71727c029325ff191"><td class="memItemLeft" align="right" valign="top">ImplementationDefined&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classthor_1_1_animator.html#ae3ab460718ccfaa71727c029325ff191">play</a> ()</td></tr>
<tr class="memdesc:ae3ab460718ccfaa71727c029325ff191"><td class="mdescLeft">&#160;</td><td class="mdescRight">Plays one or more animations, discarding the current queue.  <a href="#ae3ab460718ccfaa71727c029325ff191">More...</a><br /></td></tr>
<tr class="separator:ae3ab460718ccfaa71727c029325ff191"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a046b701aeb1b8d302a96976bbf57ca71"><td class="memItemLeft" align="right" valign="top">ImplementationDefined&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classthor_1_1_animator.html#a046b701aeb1b8d302a96976bbf57ca71">queue</a> ()</td></tr>
<tr class="memdesc:a046b701aeb1b8d302a96976bbf57ca71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Plays one or more animations, appending to current queue.  <a href="#a046b701aeb1b8d302a96976bbf57ca71">More...</a><br /></td></tr>
<tr class="separator:a046b701aeb1b8d302a96976bbf57ca71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1364230a10b6a784bef33f7266ed810"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classthor_1_1_animator.html#af1364230a10b6a784bef33f7266ed810">stop</a> ()</td></tr>
<tr class="memdesc:af1364230a10b6a784bef33f7266ed810"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops all playing and queued animations.  <a href="#af1364230a10b6a784bef33f7266ed810">More...</a><br /></td></tr>
<tr class="separator:af1364230a10b6a784bef33f7266ed810"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5ad9ed747c9bed1c3a07d5846c74315"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classthor_1_1_animator.html#aa5ad9ed747c9bed1c3a07d5846c74315">update</a> (sf::Time dt)</td></tr>
<tr class="memdesc:aa5ad9ed747c9bed1c3a07d5846c74315"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the animator's progress. You should call this method each frame.  <a href="#aa5ad9ed747c9bed1c3a07d5846c74315">More...</a><br /></td></tr>
<tr class="separator:aa5ad9ed747c9bed1c3a07d5846c74315"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f778586cff967ae8f099a4400bdc829"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classthor_1_1_animator.html#a0f778586cff967ae8f099a4400bdc829">animate</a> (Animated &amp;animated) const </td></tr>
<tr class="memdesc:a0f778586cff967ae8f099a4400bdc829"><td class="mdescLeft">&#160;</td><td class="mdescRight">Applies the stored animations to an object.  <a href="#a0f778586cff967ae8f099a4400bdc829">More...</a><br /></td></tr>
<tr class="separator:a0f778586cff967ae8f099a4400bdc829"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class Animated, typename Id&gt;<br />
class thor::Animator&lt; Animated, Id &gt;</h3>

<p>Class to animate objects. </p>
<p>The <a class="el" href="classthor_1_1_animator.html" title="Class to animate objects. ">Animator</a> class takes care of multiple animations which are registered with an ID. The animations can be played at any time, queued for subsequent animations, and repeated or looped as desired. <a class="el" href="classthor_1_1_animator.html" title="Class to animate objects. ">Animator</a> updates the animations' progress and applies them to animated objects. It thus relieves the user of keeping track how far an animation has progressed, when it is finished, and so on. <br />
<br />
 Each <a class="el" href="classthor_1_1_animator.html" title="Class to animate objects. ">Animator</a> always references an <a class="el" href="classthor_1_1_animation_map.html" title="Class that stores multiple animations. ">AnimationMap</a> instance, which serves as the storage of animations. The <a class="el" href="classthor_1_1_animator.html#aa5ad9ed747c9bed1c3a07d5846c74315" title="Updates the animator&#39;s progress. You should call this method each frame. ">Animator::update()</a> function must be called in every frame in order to update the animation progress. <br />
<br />
 This class does not provide any methods to query the state and progress of the animations, by design. On one hand, there is not always an unambiguous animation playing &ndash; there may be none, or there may be multiple (when the delta time passed to <a class="el" href="classthor_1_1_animator.html#aa5ad9ed747c9bed1c3a07d5846c74315" title="Updates the animator&#39;s progress. You should call this method each frame. ">update()</a> has exceeded one). On the other hand, the intent of animators is to abstract such information from the user, and attempts to retrieve it nonetheless indicate a misunderstanding of <a class="el" href="classthor_1_1_animator.html" title="Class to animate objects. ">Animator</a>'s capabilities (e.g. the need to know when an animation has finished, in order to start another). Sequential actions can be queued using <a class="el" href="classthor_1_1_animator.html#ae3ab460718ccfaa71727c029325ff191" title="Plays one or more animations, discarding the current queue. ">play()</a> and <a class="el" href="classthor_1_1_animator.html#a046b701aeb1b8d302a96976bbf57ca71" title="Plays one or more animations, appending to current queue. ">queue()</a>; it's even possible to notify the user through callbacks. </p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="a7ef5313e48043b3ab4353d46f683fd73"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Animated , typename Id &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">typedef std::function&lt;void(Animated&amp;, float)&gt; <a class="el" href="classthor_1_1_animator.html">thor::Animator</a>&lt; Animated, Id &gt;::<a class="el" href="classthor_1_1_animator.html#a7ef5313e48043b3ab4353d46f683fd73">AnimationFunction</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Functor to animate the objects. </p>
<p>Signature: <b>void (Animated&amp; animated, float progress)</b> </p><ul>
<li><em>animated</em> is the object being animated. </li>
<li><em>progress</em> is a number in [0,1] determining the animation state. </li>
</ul>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a0626d456247ee43e000635031839cb45"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Animated , typename Id &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classthor_1_1_animator.html">thor::Animator</a>&lt; Animated, Id &gt;::<a class="el" href="classthor_1_1_animator.html">Animator</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classthor_1_1_animation_map.html">AnimationMap</a>&lt; Animated, Id &gt; &amp;&#160;</td>
          <td class="paramname"><em>animations</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct from animation map. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">animations</td><td>Animation map that stores the animation used by this animator. It must stay alive as long as this animator uses it. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a0f778586cff967ae8f099a4400bdc829"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Animated , typename Id &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classthor_1_1_animator.html">thor::Animator</a>&lt; Animated, Id &gt;::animate </td>
          <td>(</td>
          <td class="paramtype">Animated &amp;&#160;</td>
          <td class="paramname"><em>animated</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Applies the stored animations to an object. </p>
<p>If no animation is active, the animated object is left unchanged. If multiple animations have been finished during the last <a class="el" href="classthor_1_1_animator.html#aa5ad9ed747c9bed1c3a07d5846c74315" title="Updates the animator&#39;s progress. You should call this method each frame. ">update()</a> call, each of them is applied in order. The last time an animation is applied, its progress is guaranteed to be 1. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">animated</td><td>Object which is animated by the current animation. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae3ab460718ccfaa71727c029325ff191"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Animated , typename Id &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">ImplementationDefined <a class="el" href="classthor_1_1_animator.html">thor::Animator</a>&lt; Animated, Id &gt;::play </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Plays one or more animations, discarding the current queue. </p>
<p>This function clears the current playing queue and creates a new one. The behavior of <a class="el" href="classthor_1_1_animator.html#ae3ab460718ccfaa71727c029325ff191" title="Plays one or more animations, discarding the current queue. ">play()</a> is equivalent to <a class="el" href="classthor_1_1_animator.html#af1364230a10b6a784bef33f7266ed810" title="Stops all playing and queued animations. ">stop()</a> followed by <a class="el" href="classthor_1_1_animator.html#a046b701aeb1b8d302a96976bbf57ca71" title="Plays one or more animations, appending to current queue. ">queue()</a>. <br />
<br />
 Usage: </p><div class="fragment"><div class="line"><a class="code" href="classthor_1_1_animator.html">thor::Animator&lt;Anim, std::string&gt;</a> animator;</div>
<div class="line">animator.<a class="code" href="classthor_1_1_animator.html#ae3ab460718ccfaa71727c029325ff191">play</a>() &lt;&lt; <span class="stringliteral">&quot;id1&quot;</span> &lt;&lt; <a class="code" href="namespacethor_1_1_playback.html#a90f4c2e6aae2b77affebfdd3faf0e07a">thor::Playback::repeat</a>(<span class="stringliteral">&quot;id2&quot;</span>, 3);</div>
</div><!-- fragment --> <dl class="section return"><dt>Returns</dt><dd>Implementation-defined queue object that can be appended to with <code>operator&lt;&lt;</code>. Do not store this object. </dd></dl>

</div>
</div>
<a class="anchor" id="a046b701aeb1b8d302a96976bbf57ca71"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Animated, typename Id&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">ImplementationDefined <a class="el" href="classthor_1_1_animator.html">thor::Animator</a>&lt; Animated, Id &gt;::queue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Plays one or more animations, appending to current queue. </p>
<p>This function appends to the end of the current playing queue. Make sure there is no looped animation except at the end. <br />
<br />
 Usage: </p><div class="fragment"><div class="line"><a class="code" href="classthor_1_1_animator.html">thor::Animator&lt;Anim, std::string&gt;</a> animator;</div>
<div class="line">animator.<a class="code" href="classthor_1_1_animator.html#a046b701aeb1b8d302a96976bbf57ca71">queue</a>() &lt;&lt; <span class="stringliteral">&quot;id1&quot;</span> &lt;&lt; <a class="code" href="namespacethor_1_1_playback.html#a90f4c2e6aae2b77affebfdd3faf0e07a">thor::Playback::repeat</a>(<span class="stringliteral">&quot;id2&quot;</span>, 3);</div>
</div><!-- fragment --> <dl class="section return"><dt>Returns</dt><dd>Implementation-defined queue object that can be appended to with <code>operator&lt;&lt;</code>. Do not store this object. </dd></dl>

</div>
</div>
<a class="anchor" id="af1364230a10b6a784bef33f7266ed810"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Animated, typename Id&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classthor_1_1_animator.html">thor::Animator</a>&lt; Animated, Id &gt;::stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stops all playing and queued animations. </p>
<p>Animations currently playing are interrupted, and the queue of pending animations is cleared. After this call, this object effectively behaves like a newly constructed <a class="el" href="classthor_1_1_animator.html" title="Class to animate objects. ">Animator</a> instance. </p>

</div>
</div>
<a class="anchor" id="aa5ad9ed747c9bed1c3a07d5846c74315"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Animated, typename Id&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classthor_1_1_animator.html">thor::Animator</a>&lt; Animated, Id &gt;::update </td>
          <td>(</td>
          <td class="paramtype">sf::Time&#160;</td>
          <td class="paramname"><em>dt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates the animator's progress. You should call this method each frame. </p>
<p>Progresses the current animation by <code>dt</code>. If its duration is exceeded, the next animation in the queue is loaded. This method guarantees that <b>every</b> animation in the queue is updated at least once, and that the last update occurs with a progress of 1. Therefore, you can design your animations in a way that leaves the animated object in a meaningful state at the end of the animation. <br />
<br />
 If no animation is currently playing or queued, nothing happens. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dt</td><td>Frame time. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>Animations/<a class="el" href="_animation_map_8hpp_source.html">AnimationMap.hpp</a></li>
<li>Animations/<a class="el" href="_animator_8hpp_source.html">Animator.hpp</a></li>
</ul>
</div><!-- contents -->

<!--hr class="footer" /-->
<div id="footer">
  Copyright (c) Jan Haller 2011-2016
</div>
<!--
<address class="footer"><small>
Generated on Sun Jan 17 2016 22:25:28 for Thor by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10</small></address>
-->
</body>
</html>
