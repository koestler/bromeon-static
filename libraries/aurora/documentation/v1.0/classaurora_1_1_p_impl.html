<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>aurora::PImpl&lt; T, Size, Align &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<!--<script type="text/javascript" src="$relpath/search.js"></script>-->
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body> <!-- onload='searchBox.OnSelectItem(0);'> -->
<div id="header"><img src="../../../../bromeon.png" alt="Bromeon"/>
</div>
<div class="sidebar">
  <p><a href="../../../../index.html">Home</a></p>
  <p><a href="../../../../libraries/index.html">C++ Libraries</a></p>
  <div class="sb-sub">
    <p><a href="../../../thor/index.html">Thor</a></p>
    <p><a href="../../../aurora/index.html">Aurora</a></p>
    <div class="sb-sub2">
      <div class="sb-cur">
        <p><a href="../../documentation/index.html">Documentation</a></p>
      </div>
      <p><a href="../../download/index.html">Download</a></p>
      <p><a href="../../tutorials/index.html">Tutorials</a></p>
    </div>
  </div>
  <p><a href="../../../../games/index.html">Games</a></p>
  <p><a href="../../../../articles/index.html">Articles</a></p>
  <p><a href="../../../../book/index.html">Book</a></p>
  <p><a href="../../../../contact.html">Contact</a></p>
</div>
<!--
<div id="header"><img src="Bromeon.png" alt="Bromeon" />
</div>
<div id="sidebar">
  <p><a href="index.html">Home</a></p>
  <p><a href="thor.html">Thor C++ Library</a></p>
  <p><a href="doc/index.html">Documentation</a></p>
<p>Tutorials</p>
<p>Downloads</p>
</div>
-->
<div id="top"><!-- do not remove this div! -->
<!-- Generated by Doxygen 1.8.10 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>aurora</b></li><li class="navelem"><a class="el" href="classaurora_1_1_p_impl.html">PImpl</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#related">Related Functions</a> &#124;
<a href="classaurora_1_1_p_impl-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">aurora::PImpl&lt; T, Size, Align &gt; Class Template Reference<div class="ingroups"><a class="el" href="group___tools.html">Tools</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Fast PImpl idiom.  
 <a href="classaurora_1_1_p_impl.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a85f7edecb01790354e0c71bd0b517ed3"><td class="memTemplParams" colspan="2"><a class="anchor" id="a85f7edecb01790354e0c71bd0b517ed3"></a>
template&lt;typename... Args&gt; </td></tr>
<tr class="memitem:a85f7edecb01790354e0c71bd0b517ed3"><td class="memTemplItemLeft" align="right" valign="top">&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classaurora_1_1_p_impl.html#a85f7edecb01790354e0c71bd0b517ed3">PImpl</a> (Args &amp;&amp;...args)</td></tr>
<tr class="memdesc:a85f7edecb01790354e0c71bd0b517ed3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct implementation object, forwarding arguments. <br /></td></tr>
<tr class="separator:a85f7edecb01790354e0c71bd0b517ed3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa8bec9f5f8c0be246b27f62ab32ae17"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aaa8bec9f5f8c0be246b27f62ab32ae17"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaurora_1_1_p_impl.html#aaa8bec9f5f8c0be246b27f62ab32ae17">PImpl</a> (const <a class="el" href="classaurora_1_1_p_impl.html">PImpl</a> &amp;origin)</td></tr>
<tr class="memdesc:aaa8bec9f5f8c0be246b27f62ab32ae17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy constructor. <br /></td></tr>
<tr class="separator:aaa8bec9f5f8c0be246b27f62ab32ae17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebd696693690237d06efe5880e266186"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aebd696693690237d06efe5880e266186"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaurora_1_1_p_impl.html#aebd696693690237d06efe5880e266186">PImpl</a> (<a class="el" href="classaurora_1_1_p_impl.html">PImpl</a> &amp;&amp;source)</td></tr>
<tr class="memdesc:aebd696693690237d06efe5880e266186"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move constructor. <br /></td></tr>
<tr class="separator:aebd696693690237d06efe5880e266186"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a138b77e2a164a1b9942b290bf2edaa19"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a138b77e2a164a1b9942b290bf2edaa19"></a>
<a class="el" href="classaurora_1_1_p_impl.html">PImpl</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaurora_1_1_p_impl.html#a138b77e2a164a1b9942b290bf2edaa19">operator=</a> (const <a class="el" href="classaurora_1_1_p_impl.html">PImpl</a> &amp;origin)</td></tr>
<tr class="memdesc:a138b77e2a164a1b9942b290bf2edaa19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy assignment operator. <br /></td></tr>
<tr class="separator:a138b77e2a164a1b9942b290bf2edaa19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad472d09d9f4af2dbf50a55e1a619b390"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad472d09d9f4af2dbf50a55e1a619b390"></a>
<a class="el" href="classaurora_1_1_p_impl.html">PImpl</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaurora_1_1_p_impl.html#ad472d09d9f4af2dbf50a55e1a619b390">operator=</a> (<a class="el" href="classaurora_1_1_p_impl.html">PImpl</a> &amp;&amp;source)</td></tr>
<tr class="memdesc:ad472d09d9f4af2dbf50a55e1a619b390"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move assignment operator. <br /></td></tr>
<tr class="separator:ad472d09d9f4af2dbf50a55e1a619b390"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8e7bad36666f0b1ec97840985f5c1b0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa8e7bad36666f0b1ec97840985f5c1b0"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaurora_1_1_p_impl.html#aa8e7bad36666f0b1ec97840985f5c1b0">~PImpl</a> ()</td></tr>
<tr class="memdesc:aa8e7bad36666f0b1ec97840985f5c1b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br /></td></tr>
<tr class="separator:aa8e7bad36666f0b1ec97840985f5c1b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bcf91df85992e1e6b44248236b136c8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2bcf91df85992e1e6b44248236b136c8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaurora_1_1_p_impl.html#a2bcf91df85992e1e6b44248236b136c8">swap</a> (<a class="el" href="classaurora_1_1_p_impl.html">PImpl</a> &amp;other)</td></tr>
<tr class="memdesc:a2bcf91df85992e1e6b44248236b136c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Swaps two implementation objects. <br /></td></tr>
<tr class="separator:a2bcf91df85992e1e6b44248236b136c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeaafa4c07f7866eb338f79ac15763d27"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aeaafa4c07f7866eb338f79ac15763d27"></a>
T &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaurora_1_1_p_impl.html#aeaafa4c07f7866eb338f79ac15763d27">operator*</a> ()</td></tr>
<tr class="memdesc:aeaafa4c07f7866eb338f79ac15763d27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the implementation object. <br /></td></tr>
<tr class="separator:aeaafa4c07f7866eb338f79ac15763d27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61a67934db21d9590d266e9573845e95"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a61a67934db21d9590d266e9573845e95"></a>
const T &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaurora_1_1_p_impl.html#a61a67934db21d9590d266e9573845e95">operator*</a> () const </td></tr>
<tr class="memdesc:a61a67934db21d9590d266e9573845e95"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the implementation object (const overload). <br /></td></tr>
<tr class="separator:a61a67934db21d9590d266e9573845e95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65762a761a5aa366cb9f6574f4146c39"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a65762a761a5aa366cb9f6574f4146c39"></a>
T *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaurora_1_1_p_impl.html#a65762a761a5aa366cb9f6574f4146c39">operator-&gt;</a> ()</td></tr>
<tr class="memdesc:a65762a761a5aa366cb9f6574f4146c39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the implementation object for member access. <br /></td></tr>
<tr class="separator:a65762a761a5aa366cb9f6574f4146c39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af22340678b3459ecf2d2b304082db288"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af22340678b3459ecf2d2b304082db288"></a>
const T *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaurora_1_1_p_impl.html#af22340678b3459ecf2d2b304082db288">operator-&gt;</a> () const </td></tr>
<tr class="memdesc:af22340678b3459ecf2d2b304082db288"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the implementation object for member access (const overload). <br /></td></tr>
<tr class="separator:af22340678b3459ecf2d2b304082db288"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="related"></a>
Related Functions</h2></td></tr>
<tr><td class="ititle" colspan="2"><p>(Note that these are not member functions.) </p>
</td></tr>
<tr class="memitem:ga6607c69c897d100851f960c70a57acac"><td class="memTemplParams" colspan="2"><a class="anchor" id="ga6607c69c897d100851f960c70a57acac"></a>
template&lt;typename T , std::size_t Size, std::size_t Align&gt; </td></tr>
<tr class="memitem:ga6607c69c897d100851f960c70a57acac"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group___tools.html#ga6607c69c897d100851f960c70a57acac">swap</a> (<a class="el" href="classaurora_1_1_p_impl.html">PImpl</a>&lt; T, Size, Align &gt; &amp;lhs, <a class="el" href="classaurora_1_1_p_impl.html">PImpl</a>&lt; T, Size, Align &gt; &amp;rhs)</td></tr>
<tr class="memdesc:ga6607c69c897d100851f960c70a57acac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Swaps two implementation objects. <br /></td></tr>
<tr class="separator:ga6607c69c897d100851f960c70a57acac"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename T, std::size_t Size, std::size_t Align&gt;<br />
class aurora::PImpl&lt; T, Size, Align &gt;</h3>

<p>Fast PImpl idiom. </p>
<p>Enables the PImpl (pointer to implementation, aka. handle-body, compiler firewall) idiom without dynamic allocation. Storage for the implementation object is provided within the front-end object, but the type need not be complete at time of instantiation. </p><dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>Type of implementation object. Is incomplete at time of instantiation. </td></tr>
    <tr><td class="paramname">Size</td><td>Storage size large enough to hold a type T: <code>Size</code> &gt;= sizeof(T) </td></tr>
    <tr><td class="paramname">Align</td><td>Alignment for type T: <code>Align</code> == alignof(T)</td></tr>
  </table>
  </dd>
</dl>
<p>This class mimicks value semantics, not pointer semantics. In particular, the class invariant is that a <a class="el" href="classaurora_1_1_p_impl.html#a85f7edecb01790354e0c71bd0b517ed3" title="Construct implementation object, forwarding arguments. ">PImpl&lt;T, ...&gt;</a> object holds a fully constructed T object at any time. Its constructor forwards the arguments directly to T's constructor. Copy semantics and move semantics are provided, as long as the underlying type T supports them. The implementation object can be accessed using dereferencing operators. <br />
<br />
 Usage is completely safe, as the size and alignment are validated at compile time. In order to find out suitable values for <code>Size</code> and <code>Align</code>, you can instantiate a <code>PImpl&lt;T, 1, 0&gt;</code> object, which will always lead to a failed static assertion. When reading the compiler error, watch out for a <code>correctSizeAndAlignWouldBe&lt;S, A&gt;()</code> function instantiation, where <code>S</code> and <code>A</code> hold the correct values. <br />
<br />
 Keep in mind that using this technique comes with certain trade-offs. Since the implementation objects are constructed in-place, they increase the size of the front-end object. Its copy and move operations are thus more expensive than simple pointer copy. Constructors, destructors and assignment operators of the front-end class holding the <a class="el" href="classaurora_1_1_p_impl.html" title="Fast PImpl idiom. ">PImpl</a> instance as a member must be defined in a place where T is a complete type &ndash; usually the .cpp file that includes T's definition. So, you cannot use the compiler-generated special member functions, and it's necessary to define even empty destructors in the .cpp file. As the size and alignment of T must be hardcoded, additional maintenance may be necessary (but you cannot miss it because of static assertions). Furthermore, your code becomes less portable, because different compilers may use different sizes and alignments for the same type. Using <a class="el" href="classaurora_1_1_p_impl.html" title="Fast PImpl idiom. ">PImpl</a> instances in the front-end class makes revisions of the latter potentially binary incompatible, if the size or alignment of the implementation object changes. You can mitigate this issue by providing a larger size than necessary, at the expense of wasted memory. </p>
</div><hr/>The documentation for this class was generated from the following file:<ul>
<li>Tools/<a class="el" href="_p_impl_8hpp_source.html">PImpl.hpp</a></li>
</ul>
</div><!-- contents -->

<!--hr class="footer" /-->
<div id="footer">
  Copyright (c) Jan Haller 2011-2016
</div>
<!--
<address class="footer"><small>
Generated on Sun Jan 17 2016 23:02:44 for Thor by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10</small></address>
-->
</body>
</html>
