<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>aurora::SingleDispatcher&lt; Signature, Traits &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<!--<script type="text/javascript" src="$relpath/search.js"></script>-->
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body> <!-- onload='searchBox.OnSelectItem(0);'> -->
<div id="header"><img src="../../../../bromeon.png" alt="Bromeon"/>
</div>
<div class="sidebar">
  <p><a href="../../../../index.html">Home</a></p>
  <p><a href="../../../../libraries/index.html">C++ Libraries</a></p>
  <div class="sb-sub">
    <p><a href="../../../thor/index.html">Thor</a></p>
    <p><a href="../../../aurora/index.html">Aurora</a></p>
    <div class="sb-sub2">
      <div class="sb-cur">
        <p><a href="../../documentation/index.html">Documentation</a></p>
      </div>
      <p><a href="../../download/index.html">Download</a></p>
      <p><a href="../../tutorials/index.html">Tutorials</a></p>
    </div>
  </div>
  <p><a href="../../../../games/index.html">Games</a></p>
  <p><a href="../../../../articles/index.html">Articles</a></p>
  <p><a href="../../../../book/index.html">Book</a></p>
  <p><a href="../../../../contact.html">Contact</a></p>
</div>
<!--
<div id="header"><img src="Bromeon.png" alt="Bromeon" />
</div>
<div id="sidebar">
  <p><a href="index.html">Home</a></p>
  <p><a href="thor.html">Thor C++ Library</a></p>
  <p><a href="doc/index.html">Documentation</a></p>
<p>Tutorials</p>
<p>Downloads</p>
</div>
-->
<div id="top"><!-- do not remove this div! -->
<!-- Generated by Doxygen 1.8.10 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>aurora</b></li><li class="navelem"><a class="el" href="classaurora_1_1_single_dispatcher.html">SingleDispatcher</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classaurora_1_1_single_dispatcher-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">aurora::SingleDispatcher&lt; Signature, Traits &gt; Class Template Reference<div class="ingroups"><a class="el" href="group___dispatch.html">Dispatch</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Class that is able to perform dynamic dispatch on multiple functions with one parameter.  
 <a href="classaurora_1_1_single_dispatcher.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for aurora::SingleDispatcher&lt; Signature, Traits &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="classaurora_1_1_single_dispatcher__inherit__graph.png" border="0" usemap="#aurora_1_1_single_dispatcher_3_01_signature_00_01_traits_01_4_inherit__map" alt="Inheritance graph"/></div>
<map name="aurora_1_1_single_dispatcher_3_01_signature_00_01_traits_01_4_inherit__map" id="aurora_1_1_single_dispatcher_3_01_signature_00_01_traits_01_4_inherit__map">
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a276eccfb6765c65f9c239b0258894bdd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a276eccfb6765c65f9c239b0258894bdd"></a>
typedef <a class="el" href="structaurora_1_1_function_result.html">FunctionResult</a>&lt; Signature &gt;::<a class="el" href="structaurora_1_1_type.html">Type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaurora_1_1_single_dispatcher.html#a276eccfb6765c65f9c239b0258894bdd">Result</a></td></tr>
<tr class="memdesc:a276eccfb6765c65f9c239b0258894bdd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function return type. <br /></td></tr>
<tr class="separator:a276eccfb6765c65f9c239b0258894bdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a662336db0fb7dfc1e0f7ad3ffb22a8c5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a662336db0fb7dfc1e0f7ad3ffb22a8c5"></a>
typedef <a class="el" href="structaurora_1_1_function_param.html">FunctionParam</a>&lt; Signature, 0 &gt;::<a class="el" href="structaurora_1_1_type.html">Type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaurora_1_1_single_dispatcher.html#a662336db0fb7dfc1e0f7ad3ffb22a8c5">Parameter</a></td></tr>
<tr class="memdesc:a662336db0fb7dfc1e0f7ad3ffb22a8c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function parameter type denoting the object used for the dispatch. <br /></td></tr>
<tr class="separator:a662336db0fb7dfc1e0f7ad3ffb22a8c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6246d482cf176e5debc448130107aa32"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6246d482cf176e5debc448130107aa32"></a>
typedef <a class="el" href="structaurora_1_1_function_param.html">FunctionParam</a>&lt; Signature, 1 &gt;::<a class="el" href="structaurora_1_1_type.html">Type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaurora_1_1_single_dispatcher.html#a6246d482cf176e5debc448130107aa32">UserData</a></td></tr>
<tr class="memdesc:a6246d482cf176e5debc448130107aa32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Addition parameter for user data, only useful if <code>Signature</code> contains more than 1 parameter. <br /></td></tr>
<tr class="separator:a6246d482cf176e5debc448130107aa32"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a39313aef0dd2b9c363b8a0c6d31ee094"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a39313aef0dd2b9c363b8a0c6d31ee094"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaurora_1_1_single_dispatcher.html#a39313aef0dd2b9c363b8a0c6d31ee094">SingleDispatcher</a> ()</td></tr>
<tr class="memdesc:a39313aef0dd2b9c363b8a0c6d31ee094"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor. <br /></td></tr>
<tr class="separator:a39313aef0dd2b9c363b8a0c6d31ee094"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0ad16442ff25bbad15fc5b134aaae13"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac0ad16442ff25bbad15fc5b134aaae13"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaurora_1_1_single_dispatcher.html#ac0ad16442ff25bbad15fc5b134aaae13">SingleDispatcher</a> (<a class="el" href="classaurora_1_1_single_dispatcher.html">SingleDispatcher</a> &amp;&amp;source)</td></tr>
<tr class="memdesc:ac0ad16442ff25bbad15fc5b134aaae13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move constructor. <br /></td></tr>
<tr class="separator:ac0ad16442ff25bbad15fc5b134aaae13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6750676b72e684741737bc660d3fae4b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6750676b72e684741737bc660d3fae4b"></a>
<a class="el" href="classaurora_1_1_single_dispatcher.html">SingleDispatcher</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaurora_1_1_single_dispatcher.html#a6750676b72e684741737bc660d3fae4b">operator=</a> (<a class="el" href="classaurora_1_1_single_dispatcher.html">SingleDispatcher</a> &amp;&amp;source)</td></tr>
<tr class="memdesc:a6750676b72e684741737bc660d3fae4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move assignment operator. <br /></td></tr>
<tr class="separator:a6750676b72e684741737bc660d3fae4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b63fefc5e6f3e8e9dbf2c8c10273fb5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5b63fefc5e6f3e8e9dbf2c8c10273fb5"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaurora_1_1_single_dispatcher.html#a5b63fefc5e6f3e8e9dbf2c8c10273fb5">~SingleDispatcher</a> ()</td></tr>
<tr class="memdesc:a5b63fefc5e6f3e8e9dbf2c8c10273fb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br /></td></tr>
<tr class="separator:a5b63fefc5e6f3e8e9dbf2c8c10273fb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8eca49a88c0a489407109bc4c9cb934"><td class="memTemplParams" colspan="2">template&lt;typename Id , typename Fn &gt; </td></tr>
<tr class="memitem:aa8eca49a88c0a489407109bc4c9cb934"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classaurora_1_1_single_dispatcher.html#aa8eca49a88c0a489407109bc4c9cb934">bind</a> (const Id &amp;identifier, Fn function)</td></tr>
<tr class="memdesc:aa8eca49a88c0a489407109bc4c9cb934"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a function bound to a specific key.  <a href="#aa8eca49a88c0a489407109bc4c9cb934">More...</a><br /></td></tr>
<tr class="separator:aa8eca49a88c0a489407109bc4c9cb934"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3875efd39302ff00e18021ab3b4e1e8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classaurora_1_1_single_dispatcher.html#a276eccfb6765c65f9c239b0258894bdd">Result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaurora_1_1_single_dispatcher.html#ad3875efd39302ff00e18021ab3b4e1e8">call</a> (<a class="el" href="classaurora_1_1_single_dispatcher.html#a662336db0fb7dfc1e0f7ad3ffb22a8c5">Parameter</a> arg) const </td></tr>
<tr class="memdesc:ad3875efd39302ff00e18021ab3b4e1e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dispatches the key of <code>arg</code> and invokes the corresponding function.  <a href="#ad3875efd39302ff00e18021ab3b4e1e8">More...</a><br /></td></tr>
<tr class="separator:ad3875efd39302ff00e18021ab3b4e1e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e95f48f802c84b1dcf15b790b23e392"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classaurora_1_1_single_dispatcher.html#a276eccfb6765c65f9c239b0258894bdd">Result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaurora_1_1_single_dispatcher.html#a4e95f48f802c84b1dcf15b790b23e392">call</a> (<a class="el" href="classaurora_1_1_single_dispatcher.html#a662336db0fb7dfc1e0f7ad3ffb22a8c5">Parameter</a> arg, <a class="el" href="classaurora_1_1_single_dispatcher.html#a6246d482cf176e5debc448130107aa32">UserData</a> data) const </td></tr>
<tr class="memdesc:a4e95f48f802c84b1dcf15b790b23e392"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invokes the function depending on <code>arg</code> and passes a user-defined argument <code>data</code>.  <a href="#a4e95f48f802c84b1dcf15b790b23e392">More...</a><br /></td></tr>
<tr class="separator:a4e95f48f802c84b1dcf15b790b23e392"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c6495c09a94435e831a67d6f8e26ddd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaurora_1_1_single_dispatcher.html#a4c6495c09a94435e831a67d6f8e26ddd">fallback</a> (std::function&lt; Signature &gt; function)</td></tr>
<tr class="memdesc:a4c6495c09a94435e831a67d6f8e26ddd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a fallback function.  <a href="#a4c6495c09a94435e831a67d6f8e26ddd">More...</a><br /></td></tr>
<tr class="separator:a4c6495c09a94435e831a67d6f8e26ddd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename Signature, class Traits = RttiDispatchTraits&lt;Signature, 1&gt;&gt;<br />
class aurora::SingleDispatcher&lt; Signature, Traits &gt;</h3>

<p>Class that is able to perform dynamic dispatch on multiple functions with one parameter. </p>
<p>Sometimes you encounter the situation where you need to implement polymorphic behavior, but you cannot or don't want to add a virtual function to an existing class hierarchy. Here comes dynamic dispatch into play: You define free functions, which can be treated by the dispatcher like virtual functions. </p><dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Signature</td><td>Function signature <b>R(B)</b> or <b>R(B, U)</b>, with the following types:<ul>
<li><b>B</b>: Reference or pointer to polymorphic class, which is the base class of every dispatched function's parameter type. When <code>B</code> is a pointer, the arguments of the dispatched functions shall be pointers too (the same applies to references). If <code>B</code> is a pointer or reference to const, the dispatched functions cannot modify their arguments. In this case, the dispatched functions shall have arguments of type pointer or reference to const, too.</li>
<li><b>R</b>: Return type of the dispatched functions.</li>
<li><b>U</b>: <a class="el" href="classaurora_1_1_any.html" title="Type-erased class holding any value. ">Any</a> parameter type that can be used to forward user arguments to the functions </li>
</ul>
</td></tr>
    <tr><td class="paramname">Traits</td><td>Traits class to customize the usage of the dispatcher. To define your own traits, you can (but don't have to) inherit the class <a class="el" href="structaurora_1_1_dispatch_traits.html">aurora::DispatchTraits&lt;K&gt;</a>, where K is your key. It predefines most members for convenience. In general, the <code>Traits</code> class must contain the following members: <div class="fragment"><div class="line"><span class="keyword">struct </span>Traits</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// The type that is used to differentiate objects. For RTTI class hierarchies, std::type_index is a good choice</span></div>
<div class="line">    <span class="comment">// -- but you&#39;re free to choose anything, such as an enum or a string. The requirements are that Key can be used</span></div>
<div class="line">    <span class="comment">// as a key in std::unordered_map, i.e. it must support a std::hash&lt;Key&gt; specialization and operator==.</span></div>
<div class="line">    <span class="keyword">typedef</span> K Key;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// A function that returns the corresponding key (such as std::type_index) from a type identifier (such as aurora::Type&lt;T&gt;).</span></div>
<div class="line">    <span class="comment">// The type identifier is passed to bind() and can contain static type information, while the key is used by the map</span></div>
<div class="line">    <span class="comment">// storing the registered functions. Often, key and type identifier are the same.</span></div>
<div class="line">    <span class="keyword">static</span> Key keyFromId(Id <span class="keywordtype">id</span>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Given a function argument base, this static function extracts the key from it. B corresponds to the template parameter</span></div>
<div class="line">    <span class="comment">// specified at SingleDispatcher, that is, it is a reference or pointer.</span></div>
<div class="line">    <span class="keyword">static</span> Key keyFromBase(B base);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// trampoline1() takes a function that is passed to SingleDispatcher::bind() and modifies it in order to fit the common</span></div>
<div class="line">    <span class="comment">// R(B) signature. It therefore acts as a wrapper for user-defined functions which can link different signatures together.</span></div>
<div class="line">    <span class="comment">// For example, this is the place to insert downcasts.</span></div>
<div class="line">    <span class="comment">// The first template parameter Id is required, as it will be explicitly specified when trampoline1() is called.</span></div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Id, <span class="keyword">typename</span> Fn&gt;</div>
<div class="line">    <span class="keyword">static</span> std::function&lt;R(B)&gt; trampoline1(Fn f);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Optional function that returns a string representation of key for debugging.</span></div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* name(Key k);</div>
<div class="line">};</div>
</div><!-- fragment --></td></tr>
  </table>
  </dd>
</dl>
<p>Usage example: </p><div class="fragment"><div class="line"><span class="comment">// Example class hierarchy</span></div>
<div class="line"><span class="keyword">class </span>Base { <span class="keyword">public</span>: <span class="keyword">virtual</span> ~Base() {} };</div>
<div class="line"><span class="keyword">class </span>Derived1 : <span class="keyword">public</span> Base {};</div>
<div class="line"><span class="keyword">class </span>Derived2 : <span class="keyword">public</span> Base {};</div>
<div class="line"></div>
<div class="line"><span class="comment">// Free functions for the derived types</span></div>
<div class="line"><span class="keywordtype">void</span> func1(Derived1* d);</div>
<div class="line"><span class="keywordtype">void</span> func2(Derived2* d);</div>
<div class="line"></div>
<div class="line"><span class="comment">// Create dispatcher and register functions</span></div>
<div class="line"><a class="code" href="classaurora_1_1_single_dispatcher.html">aurora::SingleDispatcher&lt;void(Base*)&gt;</a> dispatcher;</div>
<div class="line">dispatcher.<a class="code" href="classaurora_1_1_single_dispatcher.html#aa8eca49a88c0a489407109bc4c9cb934">bind</a>(<a class="code" href="structaurora_1_1_type.html">aurora::Type&lt;Derived1&gt;</a>(), &amp;func1);</div>
<div class="line">dispatcher.<a class="code" href="classaurora_1_1_single_dispatcher.html#aa8eca49a88c0a489407109bc4c9cb934">bind</a>(<a class="code" href="structaurora_1_1_type.html">aurora::Type&lt;Derived2&gt;</a>(), &amp;func2);</div>
<div class="line"></div>
<div class="line"><span class="comment">// Invoke functions on base class pointer</span></div>
<div class="line">Base* ptr = <span class="keyword">new</span> Derived1;</div>
<div class="line">dispatcher.<a class="code" href="classaurora_1_1_single_dispatcher.html#ad3875efd39302ff00e18021ab3b4e1e8">call</a>(ptr); <span class="comment">// Invokes void func1(Derived1* d);</span></div>
<div class="line"><span class="keyword">delete</span> ptr;</div>
</div><!-- fragment --> </div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aa8eca49a88c0a489407109bc4c9cb934"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Signature, class Traits = RttiDispatchTraits&lt;Signature, 1&gt;&gt; </div>
<div class="memtemplate">
template&lt;typename Id , typename Fn &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classaurora_1_1_single_dispatcher.html">aurora::SingleDispatcher</a>&lt; Signature, Traits &gt;::bind </td>
          <td>(</td>
          <td class="paramtype">const Id &amp;&#160;</td>
          <td class="paramname"><em>identifier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Fn&#160;</td>
          <td class="paramname"><em>function</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers a function bound to a specific key. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Id</td><td>Type that identifies the class. By default, this is aurora::Type&lt;D&gt;, where D is the derived class. Can be deduced from the argument. </td></tr>
    <tr><td class="paramname">Fn</td><td>Type of the function. Can be deduced from the argument. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">identifier</td><td>Value that identifies the object. The key, which is mapped to the function, is computed from the identifier through Traits::keyFromId(identifier). </td></tr>
    <tr><td class="paramname">function</td><td>Function to register and associate with the given identifier. Usually, the function has the signature <code>Result(Parameter)</code>, but it's possible to deviate from it (e.g. using derived classes), see also the note about trampolines in the Traits classes. In case you specified a second parameter for the <code>Signature</code> template parameter, the function should have the signature <code>Result(Parameter, Parameter, UserData)</code>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad3875efd39302ff00e18021ab3b4e1e8"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Signature, class Traits = RttiDispatchTraits&lt;Signature, 1&gt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classaurora_1_1_single_dispatcher.html#a276eccfb6765c65f9c239b0258894bdd">Result</a> <a class="el" href="classaurora_1_1_single_dispatcher.html">aurora::SingleDispatcher</a>&lt; Signature, Traits &gt;::call </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classaurora_1_1_single_dispatcher.html#a662336db0fb7dfc1e0f7ad3ffb22a8c5">Parameter</a>&#160;</td>
          <td class="paramname"><em>arg</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dispatches the key of <code>arg</code> and invokes the corresponding function. </p>
<p><code>Traits::keyFromBase(arg)</code> is invoked to determine the key of the passed argument. The function bound to that key is then looked up in the map and invoked. If no match is found and a fallback function has been registered using <a class="el" href="classaurora_1_1_single_dispatcher.html#a4c6495c09a94435e831a67d6f8e26ddd" title="Registers a fallback function. ">fallback()</a>, then the fallback function will be invoked. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arg</td><td>Function argument as a reference or pointer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The return value of the dispatched function, if any. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classaurora_1_1_function_call_exception.html" title="Exception class for failed function calls. ">FunctionCallException</a></td><td>when no corresponding function is found and no fallback has been registered. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4e95f48f802c84b1dcf15b790b23e392"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Signature, class Traits = RttiDispatchTraits&lt;Signature, 1&gt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classaurora_1_1_single_dispatcher.html#a276eccfb6765c65f9c239b0258894bdd">Result</a> <a class="el" href="classaurora_1_1_single_dispatcher.html">aurora::SingleDispatcher</a>&lt; Signature, Traits &gt;::call </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classaurora_1_1_single_dispatcher.html#a662336db0fb7dfc1e0f7ad3ffb22a8c5">Parameter</a>&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classaurora_1_1_single_dispatcher.html#a6246d482cf176e5debc448130107aa32">UserData</a>&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Invokes the function depending on <code>arg</code> and passes a user-defined argument <code>data</code>. </p>
<p>Dispatches the key of <code>arg</code> and invokes the corresponding function</p>
<p><code>Traits::keyFromBase(arg)</code> is invoked to determine the key of the passed argument. The function bound to that key is then looked up in the map and invoked. If no match is found and a fallback function has been registered using <a class="el" href="classaurora_1_1_single_dispatcher.html#a4c6495c09a94435e831a67d6f8e26ddd" title="Registers a fallback function. ">fallback()</a>, then the fallback function will be invoked. <br />
<br />
 This method is only enabled if the <code>Signature</code> template parameter contains 2 parameters. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arg</td><td>Function argument as a reference or pointer. </td></tr>
    <tr><td class="paramname">data</td><td>An additional user argument that is forwarded to the function. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The return value of the dispatched function, if any. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classaurora_1_1_function_call_exception.html" title="Exception class for failed function calls. ">FunctionCallException</a></td><td>when no corresponding function is found and no fallback has been registered. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4c6495c09a94435e831a67d6f8e26ddd"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Signature, class Traits = RttiDispatchTraits&lt;Signature, 1&gt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classaurora_1_1_single_dispatcher.html">aurora::SingleDispatcher</a>&lt; Signature, Traits &gt;::fallback </td>
          <td>(</td>
          <td class="paramtype">std::function&lt; Signature &gt;&#160;</td>
          <td class="paramname"><em>function</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers a fallback function. </p>
<p>The passed function will be invoked when <a class="el" href="classaurora_1_1_single_dispatcher.html#ad3875efd39302ff00e18021ab3b4e1e8" title="Dispatches the key of arg and invokes the corresponding function. ">call()</a> doesn't find a registered function. It can be used when not finding a match does not represent an exceptional situation, but a common case. <br />
<br />
 If you want to perform no action, you can pass aurora::NoOp&lt;R, 1&gt;(). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">function</td><td>Function according to the specified signature. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Dispatch/<a class="el" href="_single_dispatcher_8hpp_source.html">SingleDispatcher.hpp</a></li>
</ul>
</div><!-- contents -->

<!--hr class="footer" /-->
<div id="footer">
  Copyright (c) Jan Haller 2011-2016
</div>
<!--
<address class="footer"><small>
Generated on Sun Jan 17 2016 23:02:44 for Thor by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10</small></address>
-->
</body>
</html>
